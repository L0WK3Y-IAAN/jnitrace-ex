diff --git a/node_modules/jnitrace-engine/dist/engine.js b/node_modules/jnitrace-engine/dist/engine.js
index 66d2a04..50ebb9b 100644
--- a/node_modules/jnitrace-engine/dist/engine.js
+++ b/node_modules/jnitrace-engine/dist/engine.js
@@ -7,7 +7,6 @@ const jni_env_interceptor_x86_1 = require("./jni/x86/jni_env_interceptor_x86");
 const jni_env_interceptor_x64_1 = require("./jni/x64/jni_env_interceptor_x64");
 const jni_env_interceptor_arm_1 = require("./jni/arm/jni_env_interceptor_arm");
 const jni_env_interceptor_arm64_1 = require("./jni/arm64/jni_env_interceptor_arm64");
-const java_vm_interceptor_1 = require("./jni/java_vm_interceptor");
 const jni_thread_manager_1 = require("./jni/jni_thread_manager");
 const _1 = require(".");
 function run(callbackManager) {
@@ -32,7 +31,9 @@ function run(callbackManager) {
     if (jniEnvInterceptor === undefined) {
         throw new Error(Process.arch + " currently unsupported, please file an issue.");
     }
-    const javaVMInterceptor = new java_vm_interceptor_1.JavaVMInterceptor(references, threads, jniEnvInterceptor, callbackManager);
+    const java_vm_interceptor_1 = require("./jni/java_vm_interceptor");
+    const JavaVMInterceptor = java_vm_interceptor_1.JavaVMInterceptor || (java_vm_interceptor_1.default && java_vm_interceptor_1.default.JavaVMInterceptor);
+    const javaVMInterceptor = new JavaVMInterceptor(references, threads, jniEnvInterceptor, callbackManager);
     jniEnvInterceptor.setJavaVMInterceptor(javaVMInterceptor);
     const trackedLibs = new Map();
     const libBlacklist = new Map();
@@ -93,9 +94,9 @@ function run(callbackManager) {
             }
         });
     }
-    const dlopenRef = Module.findExportByName(null, "dlopen");
-    const dlsymRef = Module.findExportByName(null, "dlsym");
-    const dlcloseRef = Module.findExportByName(null, "dlclose");
+    const dlopenRef = Module.findGlobalExportByName("dlopen");
+    const dlsymRef = Module.findGlobalExportByName("dlsym");
+    const dlcloseRef = Module.findGlobalExportByName("dlclose");
     if (dlopenRef !== null && dlsymRef !== null && dlcloseRef !== null) {
         const HANDLE_INDEX = 0;
         const dlopen = new NativeFunction(dlopenRef, "pointer", ["pointer", "int"]);
